<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="options.css" rel="stylesheet">
    <link rel="stylesheet" href="animate.min.css">
    <script src="font-awesome.js" crossorigin="anonymous"></script>
    <title>Freckle</title>
  </head>
  <body>
    <h1>Freckle</h1>
    <p><a href="#" class="text-reset no-tab" id="reset-options">Reset to defaults</a></p>
    
    <!-- Options Form -->
    <div class="mb-3">
    <form>
        <div class="mb-3">
            <label for="online-url" class="form-label">Online URL</label>
            <div class="input-group mb-3">
                <input type="text" class="form-control" id="online-url" aria-describedby="test-online-url" value="http://192.168.0.X/cm?cmnd=Power%20On">
                <button class="btn btn-outline-secondary" type="button" id="test-online-url">Test</button>
            </div>
            <div id="onlineUrlHelp" class="form-text">Enter the URL that the extension should ping when a Google Meet is <em>connected</em>.</div>
        </div>
        <div class="mb-3">
            <label for="offline-url" class="form-label">Offline URL</label>
            <div class="input-group mb-3">
                <input type="text" class="form-control" id="offline-url" aria-describedby="test-offline-url" value="http://192.168.0.X/cm?cmnd=Power%20Off">
                <button class="btn btn-outline-secondary" type="button" id="test-offline-url">Test</button>
            </div>
            <div id="offlineUrlHelp" class="form-text">Enter the URL that the extension should ping when a Google Meet is <em>disconnected</em>.</div>
        </div>
        <button type="button" id="save-config" class="btn btn-primary animate__rubberBand">Save</button>
    </form>
    </div>

    <!-- Configuration Notes -->
    <h3>Browser Configuration</h3>
    <p>In order to execute calls to unsecured URLs, you'll need to allow Chrome to use insecure content on meet.google.com. Go to <a href="https://meet.google.com">meet.google.com</a> and then follow the instructions <a href="https://stackoverflow.com/questions/18321032/how-to-get-chrome-to-allow-mixed-content">linked here</a>.</p>

    <h3>Tasmota Configuration</h3>
    <p>If you are getting errors sending commands to your Tasmota device, it might be because you need to allow "*" in your device's CORS Domain setting.</p>
    <ul>
      <li>Go to <a href="http://your_device_ip/">http://&lt;your_device_ip&gt;</a></li>
      <li>Click on "Configuration"</li>
      <li>Click on "Configure WiFi"</li>
      <li>Enter an asterisk "*" in the "CORS Domain" setting and save changes</li>
    </ul>

    <!-- Toasts -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 5">
      <div id="generic-toast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
          <div class="toast-body">
            <i class="fas green"></i> <span class="message"></span>
          </div>
          <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="bootstrap.bundle.min.js"></script>
    <script src="options.js"></script>
  </body>
</html>